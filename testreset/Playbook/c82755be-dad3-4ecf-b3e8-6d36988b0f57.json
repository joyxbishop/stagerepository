{"docSchemaVersion":1.0,"id":"66f543b2857d9e6f65f4de59","meta":{"actionsByState":{"active":0.0,"fail":0.0,"queued":0.0,"success":0.0},"assets":["Slack_API_Authentication"],"audit":{"created":{"authProvider":{"id":"","title":"Swimlane"},"date":"2024-09-26T11:21:22.41+00:00","user":{"id":"7c0f03b8-4ea6-4567-a9b2-1be568e5e475","username":"koushik.kumar+git-test@swimlane.com"}},"modified":{"authProvider":{"id":"","title":"Swimlane"},"date":"2024-09-26T11:21:22.41+00:00","user":{"id":"7c0f03b8-4ea6-4567-a9b2-1be568e5e475","username":"koushik.kumar+git-test@swimlane.com"}},"version":1.0},"componentId":"aDUIelkPA4jbhCA6e","connectors":["slack"],"enabled":true,"playbooks":[],"pools":["$default"],"sharingUid":"c82755be-dad3-4ecf-b3e8-6d36988b0f57","src":"schema: playbook/2\nname: component_aDUIelkPA4jbhCA6e_playbook\nactions:\n  Create_Variables_for_VIC:\n    title: Create Variables for VIC\n    type: createVariables\n    description: \"\"\n    on-success:\n    - Search_User_by_email: {}\n    on-failure: []\n    on-complete: []\n    publish: {}\n    inputs:\n    - name: Provider\n      value: Slack\n    - name: Message\n      value: []\n    meta: {}\n    delay: 0\n    pool: \"\"\n    post: {}\n    timeout: 0\n    inputSchemaReferenceId: 68082c4c-2a1a-4793-abcd-ef4024bcb866\n  Search_User_by_email:\n    title: Search User by email\n    type: connector\n    description: This Action will help to lookup a user by entering the email ID.\n    on-success:\n    - IF_user_email_exists: {}\n    on-failure: []\n    on-complete: []\n    publish: {}\n    action: slack.lookup_by_email\n    inputs:\n      parameters:\n        email: '{ $:ref: $inputs.email }'\n    pool: $default\n    asset: Slack_API_Authentication\n    meta: {}\n    delay: 0\n    post: {}\n    timeout: 0\n    environment: {}\n    testInputs:\n      parameters: {}\n  IF_user_email_exists:\n    title: IF user email exists\n    type: conditional\n    description: \"\"\n    on-success: []\n    on-failure: []\n    on-complete: []\n    publish: {}\n    conditions:\n    - action: Extract_User_ID\n      condition:\n        $:and:\n        - - $:ref: $actions.Search_User_by_email.result.json_body.ok\n          - $:eq: true\n    else: \"\"\n    inputSchemaReferenceId: dcae1368-69f8-4eca-adad-643251711c82\n    meta: {}\n    delay: 0\n    pool: \"\"\n    post: {}\n    timeout: 0\n  Send_Message:\n    title: Send Message\n    type: connector\n    description: This action will send message using user ID obtaining from above transformation.\n    on-success:\n    - Update_Message: {}\n    on-failure: []\n    on-complete: []\n    publish: {}\n    action: slack.broadcast_message\n    inputs:\n      channel: '{ $:ref: $actions.Extract_User_ID.result.obstract_user_id }'\n      blocks: []\n      text: '{ $:ref: $inputs.message }'\n    pool: $default\n    asset: Slack_API_Authentication\n    meta: {}\n    delay: 0\n    post: {}\n    timeout: 0\n    environment: {}\n    testInputs:\n      blocks: []\n  Update_Message:\n    title: Update Message\n    type: updateVariables\n    description: \"\"\n    on-success: []\n    on-failure: []\n    on-complete: []\n    publish: {}\n    inputs:\n    - name: Message\n      operation:\n        type: set\n        value:\n          $:ref: $actions.Send_Message.result.message.text\n    inputSchemaReferenceId: f533a48a-58e8-4add-8f1d-1e10be53f8bd\n    meta: {}\n    delay: 0\n    pool: \"\"\n    post: {}\n    timeout: 0\n  Extract_User_ID:\n    meta: {}\n    title: Extract User ID\n    type: transformation\n    delay: 0\n    pool: \"\"\n    on-success:\n    - Send_Message: {}\n    on-failure: []\n    on-complete: []\n    publish: {}\n    post: {}\n    timeout: 0\n    description: \"\"\n    transformations:\n      obstract_user_id:\n        title: Obstract User ID\n        inputs:\n          data:\n            actions:\n              Search_User_by_email:\n                result:\n                  json_body:\n                    user:\n                      id:\n                        $:ref: $actions.Search_User_by_email.result.json_body.user.id\n          expression: actions.Search_User_by_email.result.json_body.user.id\n        next: \"\"\n        description: \"\"\n        display:\n          functions: []\n          advancedView: true\n        timeout: 0\n        meta: {}\n        actionType: jsonata\n    entrypoint: obstract_user_id\nmeta:\n  customActionInputSchema:\n    Search_User_by_email: {}\n    Send_Message: {}\ntitle: component_aDUIelkPA4jbhCA6e_playbook\ndescription: \"\"\nnamespace: $default\nentrypoints:\n- Create_Variables_for_VIC\npool: \"\"\ntimeout: 0\npublish:\n  message:\n    $:ref: $variables.Message\nenvironment: {}\ninputs:\n  type: object\n  required:\n  - email\n  - message\n  properties:\n    email:\n      type: string\n      title: email\n    message:\n      type: string\n      title: message\ntriggers: {}\noutputSchemaReferenceId: c44b5f7d-d9f7-4e0d-b90a-8c34cdee3106\n","store":{},"validation":{"valid":true}},"playbook":{"actions":{"Create_Variables_for_VIC":{"meta":{},"title":"Create Variables for VIC","type":"createVariables","delay":0,"pool":"","on-success":[{"Search_User_by_email":{}}],"on-failure":[],"on-complete":[],"publish":{},"post":{},"timeout":0,"description":"","inputSchemaReferenceId":"68082c4c-2a1a-4793-abcd-ef4024bcb866","inputs":[{"name":"Provider","value":"Slack"},{"name":"Message","value":[]}]},"Search_User_by_email":{"meta":{},"title":"Search User by email","type":"connector","delay":0,"pool":"$default","on-success":[{"IF_user_email_exists":{}}],"on-failure":[],"on-complete":[],"publish":{},"post":{},"timeout":0,"description":"This Action will help to lookup a user by entering the email ID.","action":"slack.lookup_by_email","asset":"Slack_API_Authentication","environment":{},"inputs":{"parameters":{"email":"{ $:ref: $inputs.email }"}},"testInputs":{"parameters":{}}},"IF_user_email_exists":{"meta":{},"title":"IF user email exists","type":"conditional","delay":0,"pool":"","on-success":[],"on-failure":[],"on-complete":[],"publish":{},"post":{},"timeout":0,"description":"","inputSchemaReferenceId":"dcae1368-69f8-4eca-adad-643251711c82","conditions":[{"action":"Extract_User_ID","condition":{"$:and":[[{"$:ref":"$actions.Search_User_by_email.result.json_body.ok"},{"$:eq":true}]]}}],"else":""},"Send_Message":{"meta":{},"title":"Send Message","type":"connector","delay":0,"pool":"$default","on-success":[{"Update_Message":{}}],"on-failure":[],"on-complete":[],"publish":{},"post":{},"timeout":0,"description":"This action will send message using user ID obtaining from above transformation.","action":"slack.broadcast_message","asset":"Slack_API_Authentication","environment":{},"inputs":{"channel":"{ $:ref: $actions.Extract_User_ID.result.obstract_user_id }","blocks":[],"text":"{ $:ref: $inputs.message }"},"testInputs":{"blocks":[]}},"Update_Message":{"meta":{},"title":"Update Message","type":"updateVariables","delay":0,"pool":"","on-success":[],"on-failure":[],"on-complete":[],"publish":{},"post":{},"timeout":0,"description":"","inputSchemaReferenceId":"f533a48a-58e8-4add-8f1d-1e10be53f8bd","inputs":[{"name":"Message","operation":{"type":"set","value":{"$:ref":"$actions.Send_Message.result.message.text"}}}]},"Extract_User_ID":{"meta":{},"title":"Extract User ID","type":"transformation","delay":0,"pool":"","on-success":[{"Send_Message":{}}],"on-failure":[],"on-complete":[],"publish":{},"post":{},"timeout":0,"description":"","transformations":{"obstract_user_id":{"title":"Obstract User ID","inputs":{"data":{"actions":{"Search_User_by_email":{"result":{"json_body":{"user":{"id":{"$:ref":"$actions.Search_User_by_email.result.json_body.user.id"}}}}}}},"expression":"actions.Search_User_by_email.result.json_body.user.id"},"next":"","description":"","display":{"functions":[],"advancedView":true},"timeout":0,"meta":{},"actionType":"jsonata"}},"entrypoint":"obstract_user_id"}},"description":"","entrypoints":["Create_Variables_for_VIC"],"environment":{},"inputs":{"type":"object","required":["email","message"],"properties":{"email":{"type":"string","title":"email"},"message":{"type":"string","title":"message"}}},"meta":{"customActionInputSchema":{"Search_User_by_email":{},"Send_Message":{}}},"name":"component_aDUIelkPA4jbhCA6e_playbook","namespace":"$default","outputSchemaReferenceId":"c44b5f7d-d9f7-4e0d-b90a-8c34cdee3106","pool":"","publish":{"message":{"$:ref":"$variables.Message"}},"schema":"playbook/2","timeout":0.0,"title":"component_aDUIelkPA4jbhCA6e_playbook","triggers":{},"uuid":"00000000-0000-0000-0000-000000000000"}}